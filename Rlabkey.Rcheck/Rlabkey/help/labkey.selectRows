labkey.selectRows          package:Rlabkey          R Documentation

_R_e_t_r_i_e_v_e _d_a_t_a _f_r_o_m _a _l_a_b_k_e_y _d_a_t_a_b_a_s_e

_D_e_s_c_r_i_p_t_i_o_n:

     Import full datasets or selected rows into R. The data can be
     sorted and filtered prior to import.

_U_s_a_g_e:

     labkey.selectRows(baseUrl, folderPath, schemaName, queryName, viewName = NULL, 
     colSelect = NULL, maxRows = NULL, rowOffset = NULL, colSort = NULL, 
     colFilter = NULL, stripAllHidden = TRUE)

_A_r_g_u_m_e_n_t_s:

 baseUrl: a string specifying the 'baseUrl'for the labkey server

folderPath: a string specifying the 'folderPath' 

schemaName: a string specifying the  'schemaName' for the query

queryName: a string specifying the 'queryName'

viewName: (optional) a string specifying the 'viewName'

colSelect: (optional) a vector of comma separated strings specifying
          which columns of a dataset or view to import

 maxRows: (optional) an integer specifying how many rows of data to
          return. If no value is specified, all rows are returned.

 colSort: (optional) a string including the name of the column to sort
          preceeded by a "+" or "-" to indicate sort direction

rowOffset: (optional) an integer specifying which row of data should be
          the first row in the retrieval. If no value is specified, the
          retrieval starts with the first row.

colFilter: (optional) a vector or array object created by the
          'makeFilter' function which contains the column name,
          operator and value of the filter(s) to be applied to the
          retrieved data.

stripAllHidden: (optional) a logical value indicating whether or not to
          return data columns that would normally be hiddenfrom user
          view. If no value is specified, no hidden columns are
          returned.

_D_e_t_a_i_l_s:

     A full dataset or user saved view can be imported into an R data
     frame using the  'labkey.selectRows' function. Function arguments
     are the components of the url that identify the location of the
     data and what actions should be taken on the data prior to import
     (ie, sorting, selecting particular columns or maximum number of
     rows, etc.).

     NOTE: Each variable in a dataset has both a column label and a
     column name. The column label is visable at the top of each column
     on the web page and is longer and more descriptive. The column
     name is shorter and is used "behind the scenes" for database
     manipulation. It is the column name that must be used in the
     Rlabkey functions when a column name is expected. To identify a
     particular column name in a dataset on a web site, use the "export
     to R script" option available as a drop down option under the
     "views" tab for each dataset.

_V_a_l_u_e:

     The requested data are returned in a data frame with column names
     as they appear on the website.

_A_u_t_h_o_r(_s):

     Valerie Obenchain

_R_e_f_e_r_e_n_c_e_s:

     http://www.omegahat.org/RCurl/,
       http://dssm.unipa.it/CRAN/web/packages/rjson/rjson.pdf,
      https://www.labkey.org/project/home/begin.view

_S_e_e _A_l_s_o:

     'labkey.executeSql', 'makeFilter', 'labkey.insertRows', 
     'labkey.updateRows', 'labkey.deleteRows'

_E_x_a_m_p_l_e_s:

     # Retrieve HIV Test Results and plot Western Blot data
     #getdata <- labkey.selectRows(  baseUrl="https://www.labkey.org", 
     #                                                               folderPath="/home/Study/demo", 
     #                                                               schemaName="study", 
     #                                                               queryName="HIV Test Results")
     #plot(factor(getdata$"HIV Western Blot"), main="HIV Western Blot")

     # Select columns and apply filters
     #myfilters<- makeFilter(c("HIVLoadQuant","GREATER_THAN",500), c("HIVRapidTest","EQUALS","Positive"))

     #getdata <- labkey.selectRows(  baseUrl="https://www.labkey.org", 
     #                                                               folderPath="/home/Study/demo", 
     #                                                               schemaName="study",     
     #                                                               queryName="HIV Test Results", 
     #                                                               colSelect=c("ParticipantId","HIVDate","HIVLoadQuant","HIVRapidTest"), 
     #                                                               colFilter=myfilters)

